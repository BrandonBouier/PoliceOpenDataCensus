function showInfo(a,t){allRows=_.sortBy(t.sheets("Completed Data").all(),"City"),updateCards(allRows),updateDepartments(_.chain(allRows).map(function(a){return a.City}).unique().map(function(a){return{City:a}}).value()),updateTypesOfData(_.chain(allRows).map(function(a){return a["Type of Data"]}).unique().map(function(a){return{"Type of Data":a}}).value())}function updateCards(a){var t=$("#card-template").html(),e=Handlebars.compile(t);$.each(a,function(a,t){var n=e(t);$("#cards").append(n)})}function updateDepartments(a){var t=$("#department-template").html(),e=Handlebars.compile(t);$.each(a,function(a,t){var n=e(t);$(n).appendTo("#departments")})}function clearCards(){$("#cards").empty()}function filterByDepartment(a){clearCards(),updateCards(_.filter(allRows,function(t){return t.City===a}))}function filterByDatatype(a){clearCards(),updateCards(_.filter(allRows,function(t){return t["Type of Data"]===a}))}function updateTypesOfData(a){var t=$("#datatype-template").html(),e=Handlebars.compile(t);$.each(a,function(a,t){var n=e(t);$(n).appendTo("#datatypes")})}$(document).ready(function(){Tabletop.init({key:"1lv74SigFdFMJvza_dc2tBVd37r9E4-CPeY9YkRSaBxA",callback:showInfo,parseNumbers:!0})});var allRows=[];